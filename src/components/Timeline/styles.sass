@import "./../../styles/core.scss"
$animation-duration: .2s
  
.timeline
  position: fixed
  bottom: 0
  padding: $space-s*5 100px $space-s*2
  left: 50%
  transform: translateX(-50%)
  display: flex
  align-items: center
  justify-content: center

  //States
  &.is-active
    .timeline__chapter
      &__indicator
        opacity: .25
        transform: translateY(0)
        transition: transform $animation-duration ease-out, opacity $animation-duration ease-out

      &__title
        opacity: 1
        transform: translateY(0)
        transition: $animation-duration transform $animation-duration ease-out, $animation-duration opacity $animation-duration ease-out

  &__inner
    position: relative
    width: 60vw
    min-width: 500px
    max-width: 1100px
    display: flex

    &:before
      content: ''
      position: absolute
      width: 100%
      border-bottom: 1px dashed $color-secondary
      opacity: .5

  &__chapter
    color: $color-secondary
    white-space: nowrap
    display: flex
    align-items: center
    cursor: pointer

    &--prev
      .letter-reveal
        left: 100px
        padding-right: 10px
        transform: translateX(-100%)

    &--next
      .letter-reveal
        right: 100px
        padding-left: 20px
        transform: translateX(100%)

    &--none
      display: block
      height: 10px
      width: 1px
      background: $color-secondary

    &__control
      padding: 14px

      &--next
        margin-left: -10px

    &__control
      &--prev
        transform: rotate(-180deg)
        margin-right: -10px

    &__inner
      display: flex
      flex-direction: column
      text-align: center

    &__indicator
      opacity: 0
      transform: translateY(10px)
      transition: $animation-duration transform $animation-duration, $animation-duration opacity $animation-duration

    &__title
      margin-top: 5px
      opacity: 0
      transform: translateY(10px)
      transition: transform $animation-duration, opacity $animation-duration

  &__list
    position: relative
    width: 100%
    display: flex

    &:before,
    &:after
      content: ''
      position: absolute
      top: -5px
      height: 10px
      background: $color-secondary
      width: 1px

    &:after
      right: 0

  &__item
    flex: 1
    position: relative
    display: flex
    pointer-events: none

    &.is-active 
      .timeline
        &__item__button
          transform: translateY(-50%) translateX(-50%) scale(1.4)

          &:after
            background-color: $color-secondary

        &__item__title
          opacity: 1
          transform: translateY(0) translateX(-50%)

      &:before
        content: ''
        position: absolute
        left: 0
        background: yellow
        height: 2px
        width: 50%

    &:hover
      .timeline__item__title
        opacity: 1
        transform: translateY(0) translateX(-50%)

    &__title
      position: absolute
      top: 15px
      left: 50%
      transform: translateX(-50%) translateY(5px)
      font-size: 1.2rem
      color: $color-secondary
      white-space: nowrap
      opacity: 0
      transition: opacity $t-duration, transform $t-duration

    &__button
      display: block
      top: 0
      left: 50%
      position: absolute
      display: block
      padding: 10px
      z-index: 2
      
      cursor: pointer
      pointer-events: all
      transform: translateY(-50%) translateX(-50%) scale(1)
      transition: 
        duration: $t-duration
        property: transform, background-color
        timing-function: $t-timing-function

      &:after
        content: ''
        display: block
        height: 8px
        width: 8px
        border: 1px solid $color-secondary
        border-radius: 20px
        transition: 
          duration: $t-duration
          property: background-color
          timing-function: $t-timing-function
        

      &:focus
        outline: none


      &--visited
        background-color: black
        
      
      &:hover
        transform: translateY(-50%) translateX(-50%) scale(1.5)
        

    


